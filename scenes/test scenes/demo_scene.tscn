[gd_scene load_steps=21 format=3 uid="uid://bemdui8jvt388"]

[ext_resource type="Script" path="res://src/Damage/nodes/Health.cs" id="1_otm5i"]
[ext_resource type="Script" path="res://src/Damage/nodes/Shield.cs" id="2_hhr5u"]
[ext_resource type="Script" path="res://src/Damage/resources/HealthResource.cs" id="3_2abq3"]
[ext_resource type="Script" path="res://src/Damage/nodes/Hitscan3D.cs" id="3_ltg2r"]
[ext_resource type="Script" path="res://src/Damage/nodes/HurtBox3D.cs" id="5_2kseu"]
[ext_resource type="Script" path="res://src/Damage/resources/DamageSet.cs" id="6_b270m"]
[ext_resource type="Script" path="res://src/Damage/nodes/HitArea3D.cs" id="8_w78o7"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_s7n4f"]
sky_top_color = Color(0.290196, 0.435294, 0.752941, 1)
sky_horizon_color = Color(0.737255, 0.643137, 0.458824, 1)
sky_curve = 0.121838

[sub_resource type="Sky" id="Sky_s37ag"]
sky_material = SubResource("ProceduralSkyMaterial_s7n4f")
radiance_size = 2

[sub_resource type="Environment" id="Environment_v8ecq"]
background_mode = 2
sky = SubResource("Sky_s37ag")
ambient_light_source = 3
reflected_light_source = 2
tonemap_mode = 2
fog_sky_affect = 0.01
volumetric_fog_density = 0.0144

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_d34xf"]

[sub_resource type="Resource" id="Resource_jtfoi"]

[sub_resource type="Resource" id="Resource_5ft71"]
script = ExtResource("3_2abq3")
Amount = 0.0
MaxAmount = 100.0
_amount = 0.0

[sub_resource type="Resource" id="Resource_urse0"]

[sub_resource type="Resource" id="Resource_8y3jx"]
script = ExtResource("6_b270m")
Damages = [SubResource("Resource_urse0")]

[sub_resource type="BoxShape3D" id="BoxShape3D_dv1jw"]

[sub_resource type="BoxShape3D" id="BoxShape3D_wmn1q"]

[sub_resource type="BoxShape3D" id="BoxShape3D_tandw"]

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_ghnhh"]

[sub_resource type="QuadMesh" id="QuadMesh_iu66s"]

[node name="DemoScene" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.53114, 0.0744641, 0.844006, -0.568963, 0.769471, 0.290165, -0.627831, -0.634326, 0.451064, 2.43822, 1.78244, 0)
light_color = Color(0.843137, 0.717647, 0.411765, 1)
shadow_enabled = true
directional_shadow_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_v8ecq")

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.191372, -0.61563)
shape = SubResource("CapsuleShape3D_d34xf")

[node name="Health" type="Node" parent="CharacterBody3D"]
script = ExtResource("1_otm5i")
Amount = 0.0
MaxAmount = 100.0
HealthResource = SubResource("Resource_jtfoi")

[node name="Shield" type="Node" parent="CharacterBody3D/Health"]
script = ExtResource("2_hhr5u")
Amount = 0.0
MaxAmount = 100.0
HealthResource = SubResource("Resource_5ft71")
ProtectsFrom = 3
RemainingDamage = null

[node name="Hitscan3D" type="RayCast3D" parent="CharacterBody3D"]
transform = Transform3D(-0.189564, 0.0301178, -0.981406, 0.279036, -0.956665, -0.0832552, -0.941384, -0.289629, 0.172946, -1.98461, 0.459254, -1.72836)
enabled = false
target_position = Vector3(0, 0, -4.68)
collide_with_areas = true
collide_with_bodies = false
script = ExtResource("3_ltg2r")
Damage = SubResource("Resource_8y3jx")
Range = 4.68
_range = 4.68
Knockback = 1.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.999739, 0.0228618, 0, -0.0228618, 0.999739, 0, 0.418089, 1.70155)

[node name="HurtBox3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.13, -2.034)
visible = false
monitorable = false
script = ExtResource("5_2kseu")
HitDelay = 2.0
isTrackingHitboxes = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="HurtBox3D"]
shape = SubResource("BoxShape3D_dv1jw")

[node name="CSGBox3D" type="CSGBox3D" parent="HurtBox3D"]

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(0.00495673, 0, 0.999988, 0, 1, 0, -0.999988, 0, 0.00495673, 0, 1.66426, -2.04785)

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("BoxShape3D_wmn1q")

[node name="HitArea3D" type="Area3D" parent="RigidBody3D"]
monitoring = false
script = ExtResource("8_w78o7")
KnockbackNode = Object(RigidBody3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","transform":Transform3D(0.00495673, 0, 0.999988, 0, 1, 0, -0.999988, 0, 0.00495673, 0, 1.66426, -2.04785),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"axis_lock_linear_x":false,"axis_lock_linear_y":false,"axis_lock_linear_z":false,"axis_lock_angular_x":false,"axis_lock_angular_y":false,"axis_lock_angular_z":false,"mass":1.0,"inertia":Vector3(0, 0, 0),"center_of_mass_mode":0,"center_of_mass":Vector3(0, 0, 0),"physics_material_override":null,"gravity_scale":1.0,"custom_integrator":false,"continuous_cd":false,"max_contacts_reported":0,"contact_monitor":false,"sleeping":false,"can_sleep":true,"lock_rotation":false,"freeze":false,"freeze_mode":0,"linear_velocity":Vector3(0, 0, 0),"linear_damp_mode":0,"linear_damp":0.0,"angular_velocity":Vector3(0, 0, 0),"angular_damp_mode":0,"angular_damp":0.0,"constant_force":Vector3(0, 0, 0),"constant_torque":Vector3(0, 0, 0),"script":null)


[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D/HitArea3D"]
shape = SubResource("BoxShape3D_tandw")

[node name="CSGBox3D" type="CSGBox3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 1.41972e-08, 0, 1, 0, 1.41972e-08, 0, 1, 0, 0, 0)

[node name="StaticBody3D2" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("WorldBoundaryShape3D_ghnhh")

[node name="CSGMesh3D" type="CSGMesh3D" parent="StaticBody3D2"]
transform = Transform3D(16.69, -1.16425e-14, -2.54455e-22, -2.54455e-22, -7.29543e-07, 16.69, -1.16425e-14, -16.69, -7.29543e-07, 0, 0, 0)
mesh = SubResource("QuadMesh_iu66s")
